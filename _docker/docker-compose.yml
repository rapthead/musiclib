version: '2'
services:
  postgres:
    restart: always
    image: postgres:12
    container_name: musiclib-postgres
    volumes:
      - ${PWD}/postgres.init.db/:/docker-entrypoint-initdb.d/:ro
    environment:
      POSTGRES_DB: musicdb
    env_file:
      - ${PWD}/secrets/postgres/credentials.env
    ports:
      - "10432:5432"

  redis:
    restart: always
    image: redis:5
    container_name: musiclib-redis
    ports:
      - "10379:6379"
